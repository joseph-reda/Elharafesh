{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nehru\\\\OneDrive\\\\Desktop\\\\book_store\\\\src\\\\context\\\\FavoriteContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/FavoriteContext.jsx\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FavoriteContext = /*#__PURE__*/createContext();\nexport function FavoriteProvider({\n  children\n}) {\n  _s();\n  const [favorites, setFavorites] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"favorites\");\n      return saved ? JSON.parse(saved) : [];\n    } catch (err) {\n      console.error(\"âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:\", err);\n      return [];\n    }\n  });\n\n  // ØªØ­Ø¯ÙŠØ« localStorage Ù…Ø¹ Ø£ÙŠ ØªØºÙŠÙŠØ±\n  useEffect(() => {\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\n  }, [favorites]);\n\n  // Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨\n  function addFavorite(book) {\n    if (!(book !== null && book !== void 0 && book.id)) return;\n    setFavorites(prev => {\n      if (prev.some(b => b.id === book.id)) {\n        toast(\"âš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©\", {\n          icon: \"â„¹ï¸\"\n        });\n        return prev;\n      }\n      toast.success(`â¤ï¸ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© \"${book.title}\" Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø©`);\n      return [...prev, book];\n    });\n  }\n\n  // Ø¥Ø²Ø§Ù„Ø© ÙƒØªØ§Ø¨\n  function removeFavorite(bookId) {\n    setFavorites(prev => {\n      const updated = prev.filter(b => b.id !== bookId);\n      if (updated.length !== prev.length) {\n        toast.error(\"ðŸ—‘ï¸ ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒØªØ§Ø¨ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©\");\n      }\n      return updated;\n    });\n  }\n\n  // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ Ù…ÙˆØ¬ÙˆØ¯\n  const isFavorite = bookId => favorites.some(b => b.id === bookId);\n  return /*#__PURE__*/_jsxDEV(FavoriteContext.Provider, {\n    value: {\n      favorites,\n      addFavorite,\n      removeFavorite,\n      isFavorite\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(FavoriteProvider, \"3TZLcOGXGT2c5cMi+u0oaNnqeNk=\");\n_c = FavoriteProvider;\nexport function useFavorites() {\n  _s2();\n  return useContext(FavoriteContext);\n}\n_s2(useFavorites, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"FavoriteProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","toast","jsxDEV","_jsxDEV","FavoriteContext","FavoriteProvider","children","_s","favorites","setFavorites","saved","localStorage","getItem","JSON","parse","err","console","error","setItem","stringify","addFavorite","book","id","prev","some","b","icon","success","title","removeFavorite","bookId","updated","filter","length","isFavorite","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFavorites","_s2","$RefreshReg$"],"sources":["C:/Users/nehru/OneDrive/Desktop/book_store/src/context/FavoriteContext.jsx"],"sourcesContent":["// src/context/FavoriteContext.jsx\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst FavoriteContext = createContext();\r\n\r\nexport function FavoriteProvider({ children }) {\r\n  const [favorites, setFavorites] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem(\"favorites\");\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch (err) {\r\n      console.error(\"âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:\", err);\r\n      return [];\r\n    }\r\n  });\r\n\r\n  // ØªØ­Ø¯ÙŠØ« localStorage Ù…Ø¹ Ø£ÙŠ ØªØºÙŠÙŠØ±\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  // Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨\r\n  function addFavorite(book) {\r\n    if (!book?.id) return;\r\n\r\n    setFavorites((prev) => {\r\n      if (prev.some((b) => b.id === book.id)) {\r\n        toast(\"âš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©\", { icon: \"â„¹ï¸\" });\r\n        return prev;\r\n      }\r\n      toast.success(`â¤ï¸ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© \"${book.title}\" Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø©`);\r\n      return [...prev, book];\r\n    });\r\n  }\r\n\r\n  // Ø¥Ø²Ø§Ù„Ø© ÙƒØªØ§Ø¨\r\n  function removeFavorite(bookId) {\r\n    setFavorites((prev) => {\r\n      const updated = prev.filter((b) => b.id !== bookId);\r\n      if (updated.length !== prev.length) {\r\n        toast.error(\"ðŸ—‘ï¸ ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒØªØ§Ø¨ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©\");\r\n      }\r\n      return updated;\r\n    });\r\n  }\r\n\r\n  // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ Ù…ÙˆØ¬ÙˆØ¯\r\n  const isFavorite = (bookId) => favorites.some((b) => b.id === bookId);\r\n\r\n  return (\r\n    <FavoriteContext.Provider\r\n      value={{ favorites, addFavorite, removeFavorite, isFavorite }}\r\n    >\r\n      {children}\r\n    </FavoriteContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFavorites() {\r\n  return useContext(FavoriteContext);\r\n}\r\n"],"mappings":";;;AAAA;AACA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,eAAe,gBAAGP,aAAa,CAAC,CAAC;AAEvC,OAAO,SAASQ,gBAAgBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,MAAM;IAC/C,IAAI;MACF,MAAMU,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MAC/C,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,EAAE;IACvC,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;MAChD,OAAO,EAAE;IACX;EACF,CAAC,CAAC;;EAEF;EACAhB,SAAS,CAAC,MAAM;IACdY,YAAY,CAACO,OAAO,CAAC,WAAW,EAAEL,IAAI,CAACM,SAAS,CAACX,SAAS,CAAC,CAAC;EAC9D,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;;EAEf;EACA,SAASY,WAAWA,CAACC,IAAI,EAAE;IACzB,IAAI,EAACA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,EAAE,GAAE;IAEfb,YAAY,CAAEc,IAAI,IAAK;MACrB,IAAIA,IAAI,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC,EAAE;QACtCrB,KAAK,CAAC,uCAAuC,EAAE;UAAEyB,IAAI,EAAE;QAAK,CAAC,CAAC;QAC9D,OAAOH,IAAI;MACb;MACAtB,KAAK,CAAC0B,OAAO,CAAC,iBAAiBN,IAAI,CAACO,KAAK,eAAe,CAAC;MACzD,OAAO,CAAC,GAAGL,IAAI,EAAEF,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ;;EAEA;EACA,SAASQ,cAAcA,CAACC,MAAM,EAAE;IAC9BrB,YAAY,CAAEc,IAAI,IAAK;MACrB,MAAMQ,OAAO,GAAGR,IAAI,CAACS,MAAM,CAAEP,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKQ,MAAM,CAAC;MACnD,IAAIC,OAAO,CAACE,MAAM,KAAKV,IAAI,CAACU,MAAM,EAAE;QAClChC,KAAK,CAACgB,KAAK,CAAC,iCAAiC,CAAC;MAChD;MACA,OAAOc,OAAO;IAChB,CAAC,CAAC;EACJ;;EAEA;EACA,MAAMG,UAAU,GAAIJ,MAAM,IAAKtB,SAAS,CAACgB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKQ,MAAM,CAAC;EAErE,oBACE3B,OAAA,CAACC,eAAe,CAAC+B,QAAQ;IACvBC,KAAK,EAAE;MAAE5B,SAAS;MAAEY,WAAW;MAAES,cAAc;MAAEK;IAAW,CAAE;IAAA5B,QAAA,EAE7DA;EAAQ;IAAA+B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B;AAACjC,EAAA,CAnDeF,gBAAgB;AAAAoC,EAAA,GAAhBpC,gBAAgB;AAqDhC,OAAO,SAASqC,YAAYA,CAAA,EAAG;EAAAC,GAAA;EAC7B,OAAO7C,UAAU,CAACM,eAAe,CAAC;AACpC;AAACuC,GAAA,CAFeD,YAAY;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}