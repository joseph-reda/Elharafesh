{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nehru\\\\OneDrive\\\\Desktop\\\\book_store\\\\src\\\\components\\\\SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchBar() {\n  _s();\n  const [keyword, setKeyword] = useState(\"\");\n  const [suggestions, setSuggestions] = useState([]);\n  const [books, setBooks] = useState([]);\n  const navigate = useNavigate();\n\n  // ðŸ“š ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©\n  useEffect(() => {\n    fetch(\"books\").then(res => res.json()).then(data => setBooks(data)).catch(err => console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ¨:\", err));\n  }, []);\n\n  // ðŸ” Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«\n  const handleChange = e => {\n    const value = e.target.value;\n    setKeyword(value);\n    if (!value.trim()) {\n      setSuggestions([]);\n      return;\n    }\n    const query = value.toLowerCase();\n    const filtered = books.filter(book => {\n      var _book$title, _book$author;\n      return ((_book$title = book.title) === null || _book$title === void 0 ? void 0 : _book$title.toLowerCase().includes(query)) || ((_book$author = book.author) === null || _book$author === void 0 ? void 0 : _book$author.toLowerCase().includes(query));\n    });\n    setSuggestions(filtered.slice(0, 5)); // Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 5 Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙÙ‚Ø·\n  };\n\n  // ðŸš€ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ \"Ø¨Ø­Ø«\"\n  const handleSubmit = e => {\n    e.preventDefault();\n    const trimmed = keyword.trim();\n    if (!trimmed) {\n      toast.error(\"âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù„Ù„Ø¨Ø­Ø«\");\n      return;\n    }\n    const query = trimmed.toLowerCase();\n    const results = books.filter(book => {\n      var _book$title2, _book$author2;\n      const title = ((_book$title2 = book.title) === null || _book$title2 === void 0 ? void 0 : _book$title2.toLowerCase()) || \"\";\n      const author = ((_book$author2 = book.author) === null || _book$author2 === void 0 ? void 0 : _book$author2.toLowerCase()) || \"\";\n      return title.includes(query) || author.includes(query);\n    });\n    if (results.length === 0) {\n      toast(\"ðŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø«\");\n    }\n    navigate(`/search?q=${encodeURIComponent(trimmed)}`, {\n      state: {\n        results,\n        keyword: trimmed\n      }\n    });\n    setKeyword(\"\");\n    setSuggestions([]);\n  };\n\n  // ðŸ“˜ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­\n  const handleSuggestionClick = bookId => {\n    navigate(`/book/${bookId}`);\n    setKeyword(\"\");\n    setSuggestions([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full max-w-xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex gap-2 w-full\",\n      \"aria-label\": \"\\u0634\\u0631\\u064A\\u0637 \\u0627\\u0644\\u0628\\u062D\\u062B\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: keyword,\n        onChange: handleChange,\n        placeholder: \"\\uD83D\\uDD0D \\u0627\\u0628\\u062D\\u062B \\u0628\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u062A\\u0627\\u0628 \\u0623\\u0648 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u062A\\u0628...\",\n        \"aria-label\": \"\\u0627\\u0628\\u062D\\u062B \\u0628\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u062A\\u0627\\u0628 \\u0623\\u0648 \\u0627\\u0644\\u0645\\u0624\\u0644\\u0641\",\n        className: \"border border-gray-300 p-2 rounded w-full \\r focus:outline-none focus:ring-2 focus:ring-blue-500 \\r transition-all duration-200 text-right placeholder-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-gradient-to-r from-blue-600 to-blue-700 \\r hover:from-blue-700 hover:to-blue-800 \\r text-white px-6 py-2 rounded-lg shadow \\r transition-all duration-300 font-medium\",\n        children: \"\\u0628\\u062D\\u062B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"absolute z-50 bg-white border border-gray-200 \\r rounded-lg shadow-md mt-2 w-full max-h-60 overflow-y-auto\",\n      children: suggestions.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleSuggestionClick(book.id),\n        className: \"px-4 py-2 cursor-pointer \\r hover:bg-blue-50 flex justify-between items-center \\r transition-colors duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-gray-700\",\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500\",\n          children: book.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"hpK5DxbfXGmk8wdnzz+UP40Adsw=\", false, function () {\n  return [useNavigate];\n});\n_c = SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["useState","useEffect","useNavigate","toast","jsxDEV","_jsxDEV","SearchBar","_s","keyword","setKeyword","suggestions","setSuggestions","books","setBooks","navigate","fetch","then","res","json","data","catch","err","console","error","handleChange","e","value","target","trim","query","toLowerCase","filtered","filter","book","_book$title","_book$author","title","includes","author","slice","handleSubmit","preventDefault","trimmed","results","_book$title2","_book$author2","length","encodeURIComponent","state","handleSuggestionClick","bookId","className","children","onSubmit","type","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","id","_c","$RefreshReg$"],"sources":["C:/Users/nehru/OneDrive/Desktop/book_store/src/components/SearchBar.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function SearchBar() {\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [suggestions, setSuggestions] = useState([]);\r\n    const [books, setBooks] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    // ðŸ“š ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©\r\n    useEffect(() => {\r\n        fetch(\"books\")\r\n            .then((res) => res.json())\r\n            .then((data) => setBooks(data))\r\n            .catch((err) => console.error(\"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ¨:\", err));\r\n    }, []);\r\n\r\n    // ðŸ” Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setKeyword(value);\r\n\r\n        if (!value.trim()) {\r\n            setSuggestions([]);\r\n            return;\r\n        }\r\n\r\n        const query = value.toLowerCase();\r\n        const filtered = books.filter(\r\n            (book) =>\r\n                book.title?.toLowerCase().includes(query) ||\r\n                book.author?.toLowerCase().includes(query)\r\n        );\r\n\r\n        setSuggestions(filtered.slice(0, 5)); // Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 5 Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙÙ‚Ø·\r\n    };\r\n\r\n    // ðŸš€ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ \"Ø¨Ø­Ø«\"\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const trimmed = keyword.trim();\r\n\r\n        if (!trimmed) {\r\n            toast.error(\"âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù„Ù„Ø¨Ø­Ø«\");\r\n            return;\r\n        }\r\n\r\n        const query = trimmed.toLowerCase();\r\n        const results = books.filter((book) => {\r\n            const title = book.title?.toLowerCase() || \"\";\r\n            const author = book.author?.toLowerCase() || \"\";\r\n            return title.includes(query) || author.includes(query);\r\n        });\r\n\r\n        if (results.length === 0) {\r\n            toast(\"ðŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø«\");\r\n        }\r\n\r\n        navigate(`/search?q=${encodeURIComponent(trimmed)}`, {\r\n            state: { results, keyword: trimmed },\r\n        });\r\n\r\n        setKeyword(\"\");\r\n        setSuggestions([]);\r\n    };\r\n\r\n    // ðŸ“˜ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­\r\n    const handleSuggestionClick = (bookId) => {\r\n        navigate(`/book/${bookId}`);\r\n        setKeyword(\"\");\r\n        setSuggestions([]);\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative w-full max-w-xl mx-auto\">\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"flex gap-2 w-full\"\r\n                aria-label=\"Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø«\"\r\n            >\r\n                <input\r\n                    type=\"text\"\r\n                    value={keyword}\r\n                    onChange={handleChange}\r\n                    placeholder=\"ðŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„ÙƒØ§ØªØ¨...\"\r\n                    aria-label=\"Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨ Ø£Ùˆ Ø§Ù„Ù…Ø¤Ù„Ù\"\r\n                    className=\"border border-gray-300 p-2 rounded w-full \r\n                        focus:outline-none focus:ring-2 focus:ring-blue-500 \r\n                        transition-all duration-200 text-right placeholder-gray-400\"\r\n                />\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"bg-gradient-to-r from-blue-600 to-blue-700 \r\n                        hover:from-blue-700 hover:to-blue-800 \r\n                        text-white px-6 py-2 rounded-lg shadow \r\n                        transition-all duration-300 font-medium\"\r\n                >\r\n                    Ø¨Ø­Ø«\r\n                </button>\r\n            </form>\r\n\r\n            {suggestions.length > 0 && (\r\n                <ul\r\n                    className=\"absolute z-50 bg-white border border-gray-200 \r\n                        rounded-lg shadow-md mt-2 w-full max-h-60 overflow-y-auto\"\r\n                >\r\n                    {suggestions.map((book) => (\r\n                        <li\r\n                            key={book.id}\r\n                            onClick={() => handleSuggestionClick(book.id)}\r\n                            className=\"px-4 py-2 cursor-pointer \r\n                                hover:bg-blue-50 flex justify-between items-center \r\n                                transition-colors duration-200\"\r\n                        >\r\n                            <span className=\"font-medium text-gray-700\">{book.title}</span>\r\n                            <span className=\"text-sm text-gray-500\">{book.author}</span>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}