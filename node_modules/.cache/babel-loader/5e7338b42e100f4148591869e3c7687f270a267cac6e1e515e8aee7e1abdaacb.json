{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nehru\\\\OneDrive\\\\Desktop\\\\book_store\\\\src\\\\context\\\\CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/CartContext.jsx\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [cart, setCart] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"cart\");\n      return saved ? JSON.parse(saved) : [];\n    } catch {\n      return [];\n    }\n  });\n\n  // ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä localStorage ÿπŸÜÿØ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }, [cart]);\n\n  // ÿ•ÿ∂ÿßŸÅÿ© ŸÉÿ™ÿßÿ® ŸÑŸÑÿ≥ŸÑÿ©\n  function addToCart(book) {\n    if (!(book !== null && book !== void 0 && book.id)) return;\n    setCart(prev => {\n      if (!prev.some(b => b.id === book.id)) {\n        toast.success(`üõí ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© \"${book.title}\" ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ©`);\n        return [...prev, {\n          ...book,\n          quantity: 1\n        }];\n      } else {\n        toast(\"‚ö†Ô∏è Ÿáÿ∞ÿß ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸàÿ¨ŸàÿØ ÿ®ÿßŸÑŸÅÿπŸÑ ŸÅŸä ÿßŸÑÿ≥ŸÑÿ©\", {\n          icon: \"‚ÑπÔ∏è\"\n        });\n        return prev;\n      }\n    });\n  }\n\n  // ÿ•ÿ≤ÿßŸÑÿ© ŸÉÿ™ÿßÿ® ŸÖŸÜ ÿßŸÑÿ≥ŸÑÿ©\n  function removeFromCart(bookId) {\n    setCart(prev => prev.filter(b => b.id !== bookId));\n    toast.error(\"üóëÔ∏è ÿ™ŸÖÿ™ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸÜ ÿßŸÑÿ≥ŸÑÿ©\");\n  }\n\n  // ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÉŸÖŸäÿ©\n  function updateQuantity(bookId, qty) {\n    if (qty < 1) return;\n    setCart(prev => prev.map(b => b.id === bookId ? {\n      ...b,\n      quantity: qty\n    } : b));\n  }\n\n  // ÿ™ŸÅÿ±Ÿäÿ∫ ÿßŸÑÿ≥ŸÑÿ©\n  function clearCart() {\n    setCart([]);\n    toast(\"üßπ ÿ™ŸÖ ÿ•ŸÅÿ±ÿßÿ∫ ÿßŸÑÿ≥ŸÑÿ©\");\n  }\n\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿßŸÑÿ≥ŸÑÿ© ‚úÖ\n  function isInCart(bookId) {\n    return cart.some(b => b.id === bookId);\n  }\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addToCart,\n      removeFromCart,\n      updateQuantity,\n      clearCart,\n      isInCart // ‚úÖ ŸÖÿ∂ÿßŸÅÿ© ŸáŸÜÿß\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"kXd2oon1D+aLXgx03a+zMcsDeGk=\");\n_c = CartProvider;\nexport function useCart() {\n  _s2();\n  return useContext(CartContext);\n}\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","toast","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cart","setCart","saved","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","book","id","prev","some","b","success","title","quantity","icon","removeFromCart","bookId","filter","error","updateQuantity","qty","map","clearCart","isInCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["C:/Users/nehru/OneDrive/Desktop/book_store/src/context/CartContext.jsx"],"sourcesContent":["// src/context/CartContext.jsx\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst CartContext = createContext();\r\n\r\nexport function CartProvider({ children }) {\r\n    const [cart, setCart] = useState(() => {\r\n        try {\r\n            const saved = localStorage.getItem(\"cart\");\r\n            return saved ? JSON.parse(saved) : [];\r\n        } catch {\r\n            return [];\r\n        }\r\n    });\r\n\r\n    // ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä localStorage ÿπŸÜÿØ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´\r\n    useEffect(() => {\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }, [cart]);\r\n\r\n    // ÿ•ÿ∂ÿßŸÅÿ© ŸÉÿ™ÿßÿ® ŸÑŸÑÿ≥ŸÑÿ©\r\n    function addToCart(book) {\r\n        if (!book?.id) return;\r\n\r\n        setCart((prev) => {\r\n            if (!prev.some((b) => b.id === book.id)) {\r\n                toast.success(`üõí ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© \"${book.title}\" ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ©`);\r\n                return [...prev, { ...book, quantity: 1 }];\r\n            } else {\r\n                toast(\"‚ö†Ô∏è Ÿáÿ∞ÿß ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸàÿ¨ŸàÿØ ÿ®ÿßŸÑŸÅÿπŸÑ ŸÅŸä ÿßŸÑÿ≥ŸÑÿ©\", { icon: \"‚ÑπÔ∏è\" });\r\n                return prev;\r\n            }\r\n        });\r\n    }\r\n\r\n    // ÿ•ÿ≤ÿßŸÑÿ© ŸÉÿ™ÿßÿ® ŸÖŸÜ ÿßŸÑÿ≥ŸÑÿ©\r\n    function removeFromCart(bookId) {\r\n        setCart((prev) => prev.filter((b) => b.id !== bookId));\r\n        toast.error(\"üóëÔ∏è ÿ™ŸÖÿ™ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸÜ ÿßŸÑÿ≥ŸÑÿ©\");\r\n    }\r\n\r\n    // ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÉŸÖŸäÿ©\r\n    function updateQuantity(bookId, qty) {\r\n        if (qty < 1) return;\r\n        setCart((prev) =>\r\n            prev.map((b) => (b.id === bookId ? { ...b, quantity: qty } : b))\r\n        );\r\n    }\r\n\r\n    // ÿ™ŸÅÿ±Ÿäÿ∫ ÿßŸÑÿ≥ŸÑÿ©\r\n    function clearCart() {\r\n        setCart([]);\r\n        toast(\"üßπ ÿ™ŸÖ ÿ•ŸÅÿ±ÿßÿ∫ ÿßŸÑÿ≥ŸÑÿ©\");\r\n    }\r\n\r\n    // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ÿßŸÑŸÉÿ™ÿßÿ® ŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿßŸÑÿ≥ŸÑÿ© ‚úÖ\r\n    function isInCart(bookId) {\r\n        return cart.some((b) => b.id === bookId);\r\n    }\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cart,\r\n                addToCart,\r\n                removeFromCart,\r\n                updateQuantity,\r\n                clearCart,\r\n                isInCart, // ‚úÖ ŸÖÿ∂ÿßŸÅÿ© ŸáŸÜÿß\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useCart() {\r\n    return useContext(CartContext);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}